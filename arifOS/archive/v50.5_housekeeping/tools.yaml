# arifOS v50 Constitutional AAA MCP Tools Configuration
# Model-Agnostic: Works with Claude, ChatGPT, Gemini, Kimi, and any MCP-compliant LLM
# Transport: SSE (HTTP) or Stdio (local)
# DITEMPA BUKAN DIBERI

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
server:
  name: "arifos-unified-v50"
  version: "50.0.0"
  description: "arifOS Constitutional Governance Kernel - 33 AAA MCP Tools"
  transport:
    - stdio  # Local CLI / Claude Desktop / IDE
    - sse    # Remote HTTP (Railway, Render, Cloudflare)
  port: 8000
  sse_endpoint: "/sse"
  health_endpoint: "/health"

# =============================================================================
# CONSTITUTIONAL FLOORS (F1-F12) - All tools are governed by these
# =============================================================================
constitutional_floors:
  F1_Amanah: "Reversible audit trail with mandate boundaries"
  F2_Truth: "Tri-witness evidence with cryptographic proofs (≥0.99)"
  F3_TriWitness: "HUMAN-AI-EARTH consensus (≥0.95)"
  F4_DeltaS: "Clarity refinement and entropy reduction (≥0)"
  F5_Peace2: "Non-destructive power-aware recalibration (≥1.0)"
  F6_KappaR: "Empathy and stakeholder service (≥0.95)"
  F7_Omega0: "Epistemic humility and uncertainty disclosure (0.03-0.05)"
  F8_Genius: "Governed intelligence (G >= 0.80)"
  F9_AntiHantu: "No consciousness claims, deterministic governance"
  F10_Ontology: "Symbolic mode maintained (LOCK)"
  F11_CommandAuth: "Nonce-verified identity (LOCK)"
  F12_InjectionDefense: "No injection patterns (<0.85)"

# =============================================================================
# AGI SERVER (Δ - Architect) - 18 Tools
# Focus: Sensing, Filtering, Reasoning (Stages 111-333)
# =============================================================================
tools:

  # --- AGI: Sense & Think (Stages 111-333) ---
  - name: mcp_111_sense
    server: AGI
    stage: 111
    description: "AGI Input Reception & Injection Defense (F12/F13). Scans queries for red patterns."
    inputSchema:
      type: object
      properties:
        query:
          type: string
          description: "The natural language query to scan."
      required: [query]

  - name: mcp_222_reflect
    server: AGI
    stage: 222
    description: "AGI Reasoning & Truth Verification (F2/F4). Analyzes internal state and verifies claims."
    inputSchema:
      type: object
      properties:
        query:
          type: string
          description: "The hypothesis or statement to reflect upon."
      required: [query]

  - name: sequential_thinking
    server: AGI
    stage: 333
    description: "Chain-of-Thought Processing. Iterative reasoning with self-correction."
    inputSchema:
      type: object
      properties:
        thought:
          type: string
          description: "Current thought in the chain."
        thought_number:
          type: integer
          description: "Position in the thought sequence."
        total_thoughts:
          type: integer
          description: "Estimated total thoughts needed."
        next_thought_needed:
          type: boolean
          description: "Whether more reasoning is required."
      required: [thought, thought_number, total_thoughts, next_thought_needed]

  - name: recall
    server: AGI
    stage: 333
    description: "Semantic memory retrieval. Queries the constitutional vault for relevant context."
    inputSchema:
      type: object
      properties:
        query:
          type: string
          description: "Search query for memory retrieval."
      required: [query]

  - name: codex_skills
    server: AGI
    stage: 333
    description: "Execute learned skills (code analysis/generation)."
    inputSchema:
      type: object
      properties:
        skill_name:
          type: string
          description: "Name of skill: 'codex_code_analysis' or 'codex_code_generation'"
        code:
          type: string
          description: "Code to analyze (for analysis mode)."
        requirements:
          type: string
          description: "Requirements for code generation."
      required: [skill_name]

  - name: executor
    server: AGI
    stage: 333
    description: "Secure code executor. Runs sandboxed Python/shell commands."
    inputSchema:
      type: object
      properties:
        command:
          type: string
          description: "The command to execute."
        intent:
          type: string
          description: "Purpose of the command (for audit trail)."
      required: [command, intent]

  # --- ASI: Empathy & Align (Stages 555-666) ---
  - name: mcp_555_empathize
    server: ASI
    stage: 555
    description: "ASI Empathy & Stakeholder Impact (F5/F6). Models weakest stakeholder impact."
    inputSchema:
      type: object
      properties:
        response_text:
          type: string
          description: "The AI response to evaluate for empathy."
      required: [response_text]

  - name: mcp_666_align
    server: ASI
    stage: 666
    description: "ASI Alignment & Veto (F1/F8/F9). Neuro-symbolic bridge for value alignment."
    inputSchema:
      type: object
      properties:
        action:
          type: object
          description: "The proposed action to validate for alignment."
      required: [action]

  - name: validate_full
    server: ASI
    stage: 666
    description: "Full Constitutional Validation. Runs F1-F12 floor checks on a response."
    inputSchema:
      type: object
      properties:
        input_text:
          type: string
        response_text:
          type: string
      required: [input_text, response_text]

  - name: meta_select
    server: ASI
    stage: 666
    description: "Multi-witness consensus aggregation. Combines verdicts from multiple agents."
    inputSchema:
      type: object
      properties:
        verdicts:
          type: array
          items:
            type: object
          description: "Array of verdict objects from different witnesses."
      required: [verdicts]

  # --- Governance Resources (ASI Enforced) ---
  - name: fag_list
    server: ASI
    stage: 666
    description: "File Registry List. Lists files/directories within governance boundaries."
    inputSchema:
      type: object
      properties:
        path:
          type: string
          description: "Directory path to list."
      required: [path]

  - name: fag_read
    server: ASI
    stage: 666
    description: "File Registry Read. Read files within arifOS governance boundaries."
    inputSchema:
      type: object
      properties:
        path:
          type: string
          description: "Absolute path to the file."
      required: [path]

  - name: fag_stats
    server: ASI
    stage: 666
    description: "File Registry Stats. Get metadata about governed files."
    inputSchema:
      type: object
      properties:
        path:
          type: string
          description: "Path to file or directory."
      required: [path]

  - name: fag_write
    server: ASI
    stage: 666
    description: "File Registry Write. Securely write to governed files with audit trail."
    inputSchema:
      type: object
      properties:
        path:
          type: string
        content:
          type: string
      required: [path, content]

  - name: tempa_list
    server: ASI
    stage: 666
    description: "Template Registry List. Lists available templates."
    inputSchema:
      type: object
      properties:
        pattern:
          type: string
          description: "Optional glob pattern to filter."

  - name: tempa_read
    server: ASI
    stage: 666
    description: "Template Registry Read. Read a specific template."
    inputSchema:
      type: object
      properties:
        template_id:
          type: string
      required: [template_id]

  - name: tempa_stats
    server: ASI
    stage: 666
    description: "Template Registry Stats. Get template metadata and usage."
    inputSchema:
      type: object
      properties:
        template_id:
          type: string

  - name: tempa_write
    server: ASI
    stage: 666
    description: "Template Registry Write. Create or update templates."
    inputSchema:
      type: object
      properties:
        template_id:
          type: string
        content:
          type: string
      required: [template_id, content]

  # =============================================================================
  # APEX SERVER (Ψ - Judge) - 15 Tools
  # Focus: Judgment, Sealing, Finality (Stages 444, 777, 888-999)
  # =============================================================================

  # --- APEX: Evidence & Judgment ---
  - name: mcp_444_evidence
    server: APEX
    stage: 444
    description: "Evidence gathering and verification. Collects grounded facts."
    inputSchema:
      type: object
      properties:
        claim:
          type: string
          description: "The claim to gather evidence for."
      required: [claim]

  - name: mcp_777_forge
    server: APEX
    stage: 777
    description: "EUREKA Discovery & Synthesis. Cross-session learning and insight extraction."
    inputSchema:
      type: object
      properties:
        context:
          type: string
          description: "Session context for reflection."
      required: [context]

  - name: mcp_888_judge
    server: APEX
    stage: 888
    description: "APEX Constitutional Judgment. Issues SEAL/VOID/SABAR verdicts."
    inputSchema:
      type: object
      properties:
        state:
          type: object
          description: "The state/object to be judged."
      required: [state]

  - name: judge
    server: APEX
    stage: 888
    description: "Simplified judgment endpoint. Quick verdict issuance."
    inputSchema:
      type: object
      properties:
        query:
          type: string
        response:
          type: string
      required: [query, response]

  - name: audit
    server: APEX
    stage: 888
    description: "Audit trail query. Retrieve constitutional decisions history."
    inputSchema:
      type: object
      properties:
        filter:
          type: string
          description: "Filter criteria for audit log."

  - name: apex_llama
    server: APEX
    stage: 888
    description: "Local LLM generation via Ollama/LLaMA. Air-gapped inference."
    inputSchema:
      type: object
      properties:
        prompt:
          type: string
        model:
          type: string
          default: "llama3.1"
      required: [prompt]

  # --- PROOF: Sealing (Stage 889) ---
  - name: mcp_889_proof
    server: APEX
    stage: 889
    description: "zkPC Cryptographic Sealing. Zero-knowledge proof of constitution."
    inputSchema:
      type: object
      properties:
        data:
          type: object
          description: "Data to seal with cryptographic proof."
      required: [data]

  - name: cryptography
    server: APEX
    stage: 889
    description: "Cryptographic operations. Signing, hashing, verification."
    inputSchema:
      type: object
      properties:
        operation:
          type: string
          enum: [sign, verify, hash]
        data:
          type: string
      required: [operation, data]

  # --- VAULT: Gate & Memory (Stages 000 & 999) ---
  - name: mcp_000_gate
    server: VAULT
    stage: "000"
    description: "Session Initialization Gate. Parses @/000 command, loads canon."
    inputSchema:
      type: object
      properties:
        command:
          type: string
          default: "@/000"

  - name: mcp_000_gate_sync
    server: VAULT
    stage: "000"
    description: "Synchronous Session Gate. Blocking initialization."
    inputSchema:
      type: object
      properties:
        command:
          type: string
          default: "@/000"

  - name: mcp_000_reset
    server: VAULT
    stage: "000"
    description: "Session Reset. Clears active state, preserves VAULT."
    inputSchema:
      type: object
      properties:
        confirm:
          type: boolean
          description: "Must be true to execute reset."
      required: [confirm]

  - name: mcp_999_seal
    server: VAULT
    stage: 999
    description: "Immutable Vault Sealing. Writes to VAULT999 with merkle proof."
    inputSchema:
      type: object
      properties:
        entry:
          type: object
          description: "Entry to seal into the vault."
      required: [entry]

  - name: memory_vault
    server: VAULT
    stage: 999
    description: "Memory Vault Query. Read from constitutional memory bands."
    inputSchema:
      type: object
      properties:
        band:
          type: string
          enum: [AAA, BBB, CCC, VAULT, LEDGER, VOID]
        query:
          type: string
      required: [band, query]

  - name: memory_phoenix
    server: VAULT
    stage: 999
    description: "Phoenix Cooling Ledger. List items in 72-hour cooling period."
    inputSchema:
      type: object
      properties:
        status:
          type: string
          enum: [cooling, sealed, expired]

  - name: memory_propose
    server: VAULT
    stage: 999
    description: "Memory Proposal. Submit new entry for Phoenix-72 cooling."
    inputSchema:
      type: object
      properties:
        entry:
          type: object
        category:
          type: string
      required: [entry, category]
